<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/assets/css/style.css?v=0970a0d2116d6377d26dd99d6ab42d9c9d8abfe4">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Deserialize json with Java parameterized constructor | JSBlogs</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Deserialize json with Java parameterized constructor" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="In this blog post we are going to learn how to deserialize json into Java class which doesn’t have default constructor." />
<meta property="og:description" content="In this blog post we are going to learn how to deserialize json into Java class which doesn’t have default constructor." />
<link rel="canonical" href="http://0.0.0.0:4000/blogs/2016/09/12/Deserialize-json-with-Java-parameterized-constructor" />
<meta property="og:url" content="http://0.0.0.0:4000/blogs/2016/09/12/Deserialize-json-with-Java-parameterized-constructor" />
<meta property="og:site_name" content="JSBlogs" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2016-09-12T23:47:25+05:30" />
<script type="application/ld+json">
{"@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://0.0.0.0:4000/blogs/2016/09/12/Deserialize-json-with-Java-parameterized-constructor"},"url":"http://0.0.0.0:4000/blogs/2016/09/12/Deserialize-json-with-Java-parameterized-constructor","headline":"Deserialize json with Java parameterized constructor","dateModified":"2016-09-12T23:47:25+05:30","datePublished":"2016-09-12T23:47:25+05:30","description":"In this blog post we are going to learn how to deserialize json into Java class which doesn’t have default constructor.","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

<body>

<header>
    <div class="container">
        <small class="date">12 September 2016</small>
        <div style="float: right">
            <a href="/" >
                <i class="fa fa-home fa-3x" aria-hidden="true"></i>
            </a>
        </div>
        <h1>Deserialize json with Java parameterized constructor</h1>

        <p class="view"></p>
        
        <small class="tags"><tag><i class="fa fa-tag"></i>jackson</tag><tag><i class='fa fa-tag'></i>java</tag><tag><i class='fa fa-tag'></i>json</tag></small>
        
    </div>
</header>

<div class="container">
    <section id="main_content">
        <p>Hi Guys in my previous blog <a href="/blogs/2016/09/07/JSON-deserialize-generic-types-using-Gson-and-Jackson">JSON deserialize generic types using Gson and Jackson</a> I talked about how you can deserialize json in Java Generics. Now in this blog post we are going to learn how to deserialize json into Java class which doesn’t have default constructor. For this blog I am using Jackson library.</p>

<p>Almost all frameworks requires default/no-argument constructor in your class. Because these frameworks use <a href="https://docs.oracle.com/javase/tutorial/reflect/" target="_blank">reflection</a> to create objects by invoking default constructor. But if there is no default constructor present in class then its hard to instantiate using reflection. Let’s assume we have a class with no-args constructor (only a parameterized constructor present) and we want to deserialize it.
<script src="https://gist.github.com/jeetmp3/7eff6ff303b58894715878833c381f24.js?file=UserProfile.java"> </script></p>

<p>And a json file 
<script src="https://gist.github.com/jeetmp3/7eff6ff303b58894715878833c381f24.js?file=UserProfile.json"> </script></p>

<p>There are two ways in Jackson to deserialize this type of classes.</p>

<ol>
  <li>Custom deserializer</li>
  <li>Mixin Annotations</li>
</ol>

<h3 id="1-custom-deserializer">1. Custom Deserializer</h3>
<p>In Custom Deserializer you will create a class and extend it with <code class="language-plaintext highlighter-rouge">com.fasterxml.jackson.databind.JsonDeserializer</code> and override its abstract method <code class="language-plaintext highlighter-rouge">deserialize()</code>. This class gives you full control, you’ll get json in <code class="language-plaintext highlighter-rouge">com.fasterxml.jackson.core.JsonParser</code>. Now you can map json properties with class properties. In my case I am creating <code class="language-plaintext highlighter-rouge">UserProfileDeserializer</code>.
<script src="https://gist.github.com/jeetmp3/7eff6ff303b58894715878833c381f24.js?file=UserProfileDeserializer.java"> </script></p>

<p>Now we need to register above deserializer in <code class="language-plaintext highlighter-rouge">com.fasterxml.jackson.databind.ObjectMapper</code>. So that, while deserializing UserProfile class it use <code class="language-plaintext highlighter-rouge">UserProfileDeserializer</code>.
<script src="https://gist.github.com/jeetmp3/7eff6ff303b58894715878833c381f24.js?file=UserProfileDeserializerDemo.java"> </script></p>

<blockquote>
  <p>In above code we are adding our Deserializer in <code class="language-plaintext highlighter-rouge">com.fasterxml.jackson.databind.module.SimpleModule</code> and that module is registered in <code class="language-plaintext highlighter-rouge">com.fasterxml.jackson.databind.ObjectMapper</code>. Similarly, you can register deserializers for other classes too.</p>
</blockquote>

<h3 id="2-mixin-annotations">2. Mixin Annotations</h3>
<p>Jackson provides another way of doing this by using <em><strong>Mixin Annotations</strong></em>. You can read about Jackson Mixin <a href="https://github.com/FasterXML/jackson-docs/wiki/JacksonMixInAnnotations" target="_blank">here</a>. In our class <code class="language-plaintext highlighter-rouge">UserProfile</code> there is no default constructor, it has a parameterized constructor. Let’s checkout how to create mixin for our class.
<script src="https://gist.github.com/jeetmp3/7eff6ff303b58894715878833c381f24.js?file=UserProfileMixin.java"> </script></p>

<p>That’s it !!</p>

<blockquote>
  <p>We have created a constructor same as in <code class="language-plaintext highlighter-rouge">UserProfile</code> class and marked it with <code class="language-plaintext highlighter-rouge">com.fasterxml.jackson.annotation.JsonCreator</code> annotation. This will tell <code class="language-plaintext highlighter-rouge">com.fasterxml.jackson.databind.ObjectMapper</code> this is how target class (<code class="language-plaintext highlighter-rouge">UserProfile</code>) constructor looks and constructor parameters are marked with <code class="language-plaintext highlighter-rouge">com.fasterxml.jackson.annotation.JsonProperty</code> annotation.</p>
</blockquote>

<p>Now checkout how to register this mixin class in <code class="language-plaintext highlighter-rouge">com.fasterxml.jackson.databind.ObjectMapper</code>
<script src="https://gist.github.com/jeetmp3/7eff6ff303b58894715878833c381f24.js?file=UserProfileMixinDemo.java"> </script></p>

<p>Enjoy !!!! ☺☺</p>

    </section>
</div>


</body>
</html>